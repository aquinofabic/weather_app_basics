import requests  # module allows to send HTTP requests over to python

api_key_2 = '78c6bcb4a66344859f80385138fe0a20'

user_input = input("Enter city: ")

weather_data = requests.get(
    f"https://api.openweathermap.org/data/2.5/weather?q={user_input}&units=metric&APPID={api_key_2}")


# print(weather_data.status_code) #200 means the API is authorised and working
# json() converts to a human-readable format - converts data structures into JSON strings


if weather_data.json()['cod'] == '404':
    print("No city found")
else:
    weather = weather_data.json()['weather'][0]['main']
    # 1. Access 'weather' key
    # 2. Access the array [] which is the first, and only index, [0]
    # 3. Access 'main' key

    temp = weather_data.json()['main']['temp']
    # 1 Access 'main' key
    # 2 Access 'temp' key

    print(f"The weather in {user_input} is: {weather}")
    print(f"The temperature in {user_input} is: {temp}Â°C")


# f-strings provide a concise, convenient way to embed python expressions inside string literals for formatting
# Now write code for the case if there are no cities. if and else statement starting line 15
# Remember to do pip install requests in terminal
